<div class="container">
  <h1>Host Dashboard</h1>

  <p>Hello <%= @current_user.first_name %>, these are the experiences you've created :</p>
  <p><%= link_to "Add a new trip", new_trip_path, class: "btn btn-primary" %></p>
  <% if false %>
  <div class="row card-grid">
    <div class="col-lg-3">
        <% @trips.each do |trip| %>
          <div class="card mb-2">
            <%= link_to trip.name, trip_path(trip) %>
            <%= trip.departure_date_time %>
            <%= link_to "", trip_path(trip),
              data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this trip ?" },
              class: "fa-solid fa-trash-can" %>
          </div>
        <% end %>
    </div>
  </div>
  <% end %>

  <h5 class="dashboard-title">Manage your bookings for each trip you hosted</h5>
  <div class="dashboard-container">
    <% if @current_user.trips.nil? %>
      <p>You haven't created any trips yet</p>
    <% else %>
      <div class="d-flex align-items-start">
        <div class="nav flex-column nav-pills me-3 col-4" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <% @trips.each_with_index do |trip, index| %>
            <% if index == 0 %>
              <button class="nav-link active"
              id=<%= "v-pills-#{trip.id}-tab"%>
              data-bs-toggle="pill" data-bs-target=<%= "#v-pills-#{trip.id}"%>
              type="button" role="tab" aria-controls=<%= "v-pills-#{trip.id}" %>
              aria-selected="true">
              <%= trip.name %></button>
            <% else %>
              <button class="nav-link"
              id=<%= "v-pills-#{trip.id}-tab"%>
              data-bs-toggle="pill" data-bs-target=<%= "#v-pills-#{trip.id}"%>
              type="button" role="tab" aria-controls=<%= "v-pills-#{trip.id}" %>
              aria-selected="false">
              <%= trip.name %></button>
            <% end %>
          <% end %>
        </div>
      <div class="tab-content col-8" id="v-pills-tabContent">
        <% @trips.each_with_index do |trip, index| %>
          <% if index == 0 %>
            <div class="tab-pane fade show active" id=<%= "v-pills-#{trip.id}" %> role="tabpanel" aria-labelledby=<%= "v-pills-#{trip.id}-tab"%> tabindex="0">
              <%= render 'trip_dashboard', trip: trip %>
            </div>
          <% else %>
            <div class="tab-pane fade" id=<%= "v-pills-#{trip.id}" %> role="tabpanel" aria-labelledby=<%= "v-pills-#{trip.id}-tab"%> tabindex="0">
              <%= render 'trip_dashboard', trip: trip %>
            </div>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
